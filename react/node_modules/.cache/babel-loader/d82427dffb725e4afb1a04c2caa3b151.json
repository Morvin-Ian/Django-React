{"ast":null,"code":"var _jsxFileName = \"/home/morvin/Desktop/Codes/React/Django-React/react/src/Updatebook.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Updatebook = deleteBook => {\n  _s();\n\n  const AxiosBook = axios.create({\n    baseURL: \"http://127.0.0.1:8000/api\"\n  });\n  const {\n    id\n  } = useParams();\n  const [book, setBook] = useState(\"\");\n  const [bookTitle, setBookTile] = useState(\"\");\n  const [bookDesc, setBookDesc] = useState(\"\");\n  useEffect(() => {\n    const fetchBook = async () => {\n      try {\n        const response = await AxiosBook.get(`/book/${id}`);\n        setBook(response.data);\n      } catch (err) {\n        console.log(err.message);\n      }\n    };\n\n    fetchBook();\n  }, []);\n\n  const handleupdate = e => {\n    e.preventDefault();\n    if (!book) return;\n    updateBook(id, bookTitle, bookDesc);\n  };\n\n  const updateBook = async (id, book_name, description) => {\n    const updates = {\n      id,\n      book_name,\n      description\n    };\n    await AxiosBook.put(`/book/update/${id}`, updates);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"form\",\n    onSubmit: handleupdate,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      autoFocus: true,\n      id: \"name\",\n      type: \"text\",\n      placeholder: `${book.book_name}`,\n      required: true,\n      value: bookTitle,\n      onChange: e => setBookTile(e => e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      placeholder: `${book.description}`,\n      required: true,\n      value: bookDesc,\n      onChange: e => {\n        setBookDesc({ ...book,\n          'description': e.target.value\n        });\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"submit\",\n      type: \"submit\",\n      children: \"Update Book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Updatebook, \"u8fl2VUPU826IQKNORGoOXbQfIs=\", false, function () {\n  return [useParams];\n});\n\n_c = Updatebook;\nexport default Updatebook;\n\nvar _c;\n\n$RefreshReg$(_c, \"Updatebook\");","map":{"version":3,"names":["React","useParams","useState","useEffect","axios","Updatebook","deleteBook","AxiosBook","create","baseURL","id","book","setBook","bookTitle","setBookTile","bookDesc","setBookDesc","fetchBook","response","get","data","err","console","log","message","handleupdate","e","preventDefault","updateBook","book_name","description","updates","put","target","value"],"sources":["/home/morvin/Desktop/Codes/React/Django-React/react/src/Updatebook.js"],"sourcesContent":["import React from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nconst Updatebook = (deleteBook) => {\n    \n    const AxiosBook = axios.create({\n        baseURL:\"http://127.0.0.1:8000/api\"\n    \n      })\n    const {id} = useParams()\n    const [book, setBook]= useState(\"\")\n    const [bookTitle, setBookTile]= useState(\"\")\n    const [bookDesc, setBookDesc]= useState(\"\")\n\n\n    useEffect(()=> {\n\n        const fetchBook = async () =>{\n            try{\n\n                const response = await AxiosBook.get(`/book/${id}`)\n                setBook(response.data);\n            }catch(err){\n                console.log(err.message)}\n    }\n\n    fetchBook();\n  },[])\n  const handleupdate = (e)=>{\n    e.preventDefault();\n    if (!book) return;\n      updateBook(id, bookTitle, bookDesc)\n  }\n  const updateBook =  async(id, book_name, description) =>{\n    const updates = {id, book_name, description}  \n    await AxiosBook.put(`/book/update/${id}`, updates)\n      \n  } \n\n  return (\n    <form className='form' onSubmit={handleupdate}>\n\n    <input\n\n        autoFocus\n        id='name'\n        type='text'\n        placeholder={`${book.book_name}`}\n        required\n        value={bookTitle}\n        onChange ={(e)=> setBookTile((e)=> e.target.value)}\n\n    /> <br/>\n    <textarea\n\n        placeholder={`${book.description}`}\n        required\n        value={bookDesc}\n        onChange ={(e)=> {setBookDesc({...book, 'description': e.target.value})}}\n\n    /> <br/>\n    <button id='submit' type='submit'>Update Book</button>            \n</form>\n  )\n}\n\nexport default Updatebook"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,UAAU,GAAIC,UAAD,IAAgB;EAAA;;EAE/B,MAAMC,SAAS,GAAGH,KAAK,CAACI,MAAN,CAAa;IAC3BC,OAAO,EAAC;EADmB,CAAb,CAAlB;EAIA,MAAM;IAACC;EAAD,IAAOT,SAAS,EAAtB;EACA,MAAM,CAACU,IAAD,EAAOC,OAAP,IAAiBV,QAAQ,CAAC,EAAD,CAA/B;EACA,MAAM,CAACW,SAAD,EAAYC,WAAZ,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACa,QAAD,EAAWC,WAAX,IAAyBd,QAAQ,CAAC,EAAD,CAAvC;EAGAC,SAAS,CAAC,MAAK;IAEX,MAAMc,SAAS,GAAG,YAAW;MACzB,IAAG;QAEC,MAAMC,QAAQ,GAAG,MAAMX,SAAS,CAACY,GAAV,CAAe,SAAQT,EAAG,EAA1B,CAAvB;QACAE,OAAO,CAACM,QAAQ,CAACE,IAAV,CAAP;MACH,CAJD,CAIC,OAAMC,GAAN,EAAU;QACPC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;MAAyB;IACpC,CAPG;;IASJP,SAAS;EACV,CAZU,EAYT,EAZS,CAAT;;EAaF,MAAMQ,YAAY,GAAIC,CAAD,IAAK;IACxBA,CAAC,CAACC,cAAF;IACA,IAAI,CAAChB,IAAL,EAAW;IACTiB,UAAU,CAAClB,EAAD,EAAKG,SAAL,EAAgBE,QAAhB,CAAV;EACH,CAJD;;EAKA,MAAMa,UAAU,GAAI,OAAMlB,EAAN,EAAUmB,SAAV,EAAqBC,WAArB,KAAoC;IACtD,MAAMC,OAAO,GAAG;MAACrB,EAAD;MAAKmB,SAAL;MAAgBC;IAAhB,CAAhB;IACA,MAAMvB,SAAS,CAACyB,GAAV,CAAe,gBAAetB,EAAG,EAAjC,EAAoCqB,OAApC,CAAN;EAED,CAJD;;EAMA,oBACE;IAAM,SAAS,EAAC,MAAhB;IAAuB,QAAQ,EAAEN,YAAjC;IAAA,wBAEA;MAEI,SAAS,MAFb;MAGI,EAAE,EAAC,MAHP;MAII,IAAI,EAAC,MAJT;MAKI,WAAW,EAAG,GAAEd,IAAI,CAACkB,SAAU,EALnC;MAMI,QAAQ,MANZ;MAOI,KAAK,EAAEhB,SAPX;MAQI,QAAQ,EAAIa,CAAD,IAAMZ,WAAW,CAAEY,CAAD,IAAMA,CAAC,CAACO,MAAF,CAASC,KAAhB;IARhC;MAAA;MAAA;MAAA;IAAA,QAFA,oBAYG;MAAA;MAAA;MAAA;IAAA,QAZH,eAaA;MAEI,WAAW,EAAG,GAAEvB,IAAI,CAACmB,WAAY,EAFrC;MAGI,QAAQ,MAHZ;MAII,KAAK,EAAEf,QAJX;MAKI,QAAQ,EAAIW,CAAD,IAAM;QAACV,WAAW,CAAC,EAAC,GAAGL,IAAJ;UAAU,eAAee,CAAC,CAACO,MAAF,CAASC;QAAlC,CAAD,CAAX;MAAsD;IAL5E;MAAA;MAAA;MAAA;IAAA,QAbA,oBAoBG;MAAA;MAAA;MAAA;IAAA,QApBH,eAqBA;MAAQ,EAAE,EAAC,QAAX;MAAoB,IAAI,EAAC,QAAzB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QArBA;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAyBD,CA7DD;;GAAM7B,U;UAMWJ,S;;;KANXI,U;AA+DN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}